<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="web前端开发"><title>vue（5）-- webpack | 小方块的世界</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">vue（5）-- webpack</h1><a id="logo" href="/.">小方块的世界</a><p class="description">Stay Hungry Stay Foolish</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/favorite/"><i class="fa fa-star"> 收藏夹</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">vue（5）-- webpack</h1><div class="post-meta">Jan 16, 2019<span> | </span><span class="category"><a href="/categories/Study/">Study</a></span></div><div class="post-content"><p>这篇文章主要介绍了<code>webpack</code>使用的一个小demo，来学习如何利用<code>webpack</code>构建项目，以及打包<code>js</code>文件，通过安装loader模块打包<code>css</code>，<code>less</code>，<code>sass</code>等文件。<br><a id="more"></a></p>
<h2 id="1-nrm-牛肉面-的安装使用"><a href="#1-nrm-牛肉面-的安装使用" class="headerlink" title="1. nrm(牛肉面)的安装使用"></a>1. <code>nrm</code>(牛肉面)的安装使用</h2><p>作用：提供了一些最常用的NPM包镜像地址，能够让我们快速的切换安装包时候的服务器地址；<br>什么是镜像：原来包刚一开始是只存在于国外的NPM服务器，但是由于网络原因，经常访问不到，这时候，我们可以在国内，创建一个和官网完全一样的NPM服务器，只不过，数据都是从人家那里拿过来的，除此之外，使用方式完全一样；</p>
<ol>
<li>运行<code>npm i nrm -g</code>全局安装<code>nrm</code>包；</li>
<li>使用<code>nrm ls</code>查看当前所有可用的镜像源地址以及当前所使用的镜像源地址；</li>
<li>使用<code>nrm use npm</code>或<code>nrm use taobao</code>切换不同的镜像源地址；</li>
</ol>
<blockquote>
<p>注意： nrm 只是单纯的提供了几个常用的 下载包的 URL地址，并能够让我们在 这几个 地址之间，很方便的进行切换，但是，我们每次装包的时候，使用的 装包工具，都是  npm</p>
</blockquote>
<h2 id="2-webpack认识"><a href="#2-webpack认识" class="headerlink" title="2. webpack认识"></a>2. webpack认识</h2><ul>
<li><p>2.1 常见的网页静态资源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. JS资源</span><br><span class="line"> - .js  .jsx  .coffee  .ts（TypeScript  类 C# 语言）</span><br><span class="line">2. CSS资源</span><br><span class="line"> - .css  .less   .sass  .scss</span><br><span class="line">3. Images资源</span><br><span class="line"> - .jpg   .png   .gif   .bmp   .svg</span><br><span class="line">4. 字体文件（Fonts）资源</span><br><span class="line"> - .svg   .ttf   .eot   .woff   .woff2</span><br><span class="line">5. 模板文件资源</span><br><span class="line"> - .ejs   .jade  .vue【webpack中定义组件的方式，推荐】</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.2 网页中引入静态资源后出现问题以及解决方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">引入静态资源后出现问题？</span><br><span class="line">1. 因为要发起很多的二次请求导致网页加载速度慢</span><br><span class="line">2. 要处理错综复杂的依赖关系</span><br><span class="line"></span><br><span class="line">解决方法：</span><br><span class="line">1. 合并、压缩、精灵图、图片的Base64编码</span><br><span class="line">2. 可以使用之前学过的requireJS、也可以使用webpack解决各个包之间的复杂依赖关系；</span><br><span class="line"></span><br><span class="line">使用Gulp和webpack的区别：</span><br><span class="line">a. Gulp是基于 task 任务的；</span><br><span class="line">b. Webpack是基于整个项目进行构建的；</span><br><span class="line">- 借助于webpack这个前端自动化构建工具，可以完美实现资源的合并、打包、压缩、混淆等诸多功能。</span><br><span class="line">- [webpack官网](https://webpack.github.io/)</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.3 什么是<code>webpack</code>？</p>
<p><code>webpack</code>是前端项目构建工具，她是基于<code>node.js</code>开发出来的</p>
</li>
</ul>
<h2 id="3-使用webpack构建隔行变色的小demo"><a href="#3-使用webpack构建隔行变色的小demo" class="headerlink" title="3. 使用webpack构建隔行变色的小demo"></a>3. 使用<code>webpack</code>构建隔行变色的小demo</h2><ul>
<li><p>3.1 安装<code>webpack</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1.全局安装 npm i webpack -g</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 默认安装最新版@4.28.1 由于webpack版本兼容问题，降低安装版本解决问题</span></span><br><span class="line">npm i webpack@3.8.1 -g</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.在项目根目录中运行下面命令安装到项目依赖中，否则无法使用webpack-dev-server</span></span><br><span class="line">npm i webpack@3.8.1 --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.2  初始化项目，使用npm管理项目中的依赖包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.3 创建项目基本目录结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">├─dist               最终要发布的版本文件夹</span><br><span class="line">├─src			    开发中要用到的静态资源</span><br><span class="line">   ├──css		    css样式、less、sass等</span><br><span class="line">   ├──js			js文件</span><br><span class="line">   ├──images		 图片资源</span><br><span class="line">   ├──index.html	 首页</span><br><span class="line">   └──main.js 		 项目入口</span><br><span class="line">├─node_modules		 第三方包（生成）	</span><br><span class="line">├─package.json		 包的描述文件（生成）</span><br><span class="line">├─package-lock.json	  第三方包版本锁定文件（生成，npm5+才有）</span><br><span class="line">└─webpack.config.js	  webpack配置文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.4 在项目中安装<code>jquery</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i jquery -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.5 创建main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入jquery类库</span></span><br><span class="line">   <span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span></span><br><span class="line">  </span><br><span class="line">   <span class="comment">// 设置偶数行背景色，索引从0开始</span></span><br><span class="line">   $(<span class="string">'li:even'</span>).css(<span class="string">'backgroundColor'</span>,<span class="string">'cyan'</span>);</span><br><span class="line">   <span class="comment">// 设置奇数行背景色</span></span><br><span class="line">   $(<span class="string">'li:odd'</span>).css(<span class="string">'backgroundColor'</span>,<span class="string">'gray'</span>);</span><br></pre></td></tr></table></figure>
<p>直接在页面上引用<code>main.js</code>会报错，因为浏览器不认识<code>import</code>这种高级的<code>es6</code>语法，需要使用<code>webpack</code>进行处理，<code>webpack</code>默认会把这种高级的语法转换为低级的浏览器能识别的语法。</p>
<p>命令行运行下面命令对<code>main.js</code>进行打包处理：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> webpack 入口文件路径 输出文件路径</span></span><br><span class="line">webpack src/js/main.js dist/bundle.js</span><br></pre></td></tr></table></figure>
<p>运行完成后，在<code>index.html</code>中引入<code>bundle.js</code>在浏览器中打开就可以实现隔行变色效果了。</p>
</li>
</ul>
<h2 id="4-基于隔行变色demo使用webpack的配置文件简化打包过程"><a href="#4-基于隔行变色demo使用webpack的配置文件简化打包过程" class="headerlink" title="4. 基于隔行变色demo使用webpack的配置文件简化打包过程"></a>4. 基于隔行变色demo使用<code>webpack</code>的配置文件简化打包过程</h2><ul>
<li><p>4.1 在项目根目录中创建<code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 运行webpack命令时需要指定入口文件和输出文件的路径，我们在webpack.config.js中配置这两个路径</span></span><br><span class="line"><span class="comment">// 导入处理路径的模块</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">var</span> config = &#123;</span><br><span class="line">    entry: path.resolve(__dirname, <span class="string">'src/js/main.js'</span>), <span class="comment">// 项目入口文件</span></span><br><span class="line">    output: &#123; <span class="comment">// 配置输出选项</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>), <span class="comment">// 配置输出的路径</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span> <span class="comment">// 配置输出的文件名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 导出一个配置对象，将来webpack在启动的时候，会默认来查找webpack.config.js，并读取这个文件中导出的配置对象，来进行打包处理</span></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当我们在 控制台，直接输入 webpack 命令执行的时候，webpack 做了以下几步：</span></span><br><span class="line"><span class="comment">// 1. 首先，webpack 发现，我们并没有通过命令的形式，给它指定入口和出口</span></span><br><span class="line"><span class="comment">// 2. webpack 就会去 项目的 根目录中，查找一个叫做 `webpack.config.js` 的配置文件</span></span><br><span class="line"><span class="comment">// 3. 当找到配置文件后，webpack 会去解析执行这个 配置文件，当解析执行完配置文件后，就得到了 配置文件中，导出的配置对象</span></span><br><span class="line"><span class="comment">// 4. 当 webpack 拿到 配置对象后，就拿到了 配置对象中，指定的 入口  和 出口，然后进行打包构建；</span></span><br></pre></td></tr></table></figure>
<p>配置好<code>webpack.config.js</code>文件后，在命令行中输入<code>webpack</code>回车就能实现打包了，每次修改代码之后运行<code>webpack</code>命令进行打包处理，然后到页面刷新看见修改后的变化。</p>
</li>
<li><p>4.2 使用 <code>webpack-dev-server</code> 这个工具来实现自动打包编译的功能</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装webpack-dev-server 指定版本</span></span><br><span class="line">npm i webpack-dev-server@2.9.3 -D</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装完毕后，这个工具的用法和 webpack 命令的用法完全一样</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 由于在项目中本地安装的webpack-dev-server所以无法把它当作 脚本命令 在命令行（powershell）中直接运行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只有那些安装到全局 -g 的工具，才能在 终端中正常执行</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意： webpack-dev-server 这个工具，如果想要正常运行，要求在本地项目中，必须安装 webpack，这就是为什在开始已经全局安装webpack的时候还要进行一次项目安装 npm i webpack@3.8.1 --save-dev</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> webpack-dev-server 帮我们打包生成的 bundle.js 文件，并没有存放到 实际的 物理磁盘上；而是直接托管到了电脑的内存中，所以我们在项目根目录中根本找不到这个打包好的 bundle.js;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 我们可以认为 webpack-dev-server 把打包好的文件，以一种虚拟的形式托管到了项目的根目录中，虽然我们看不到它，但是可以认为， 和 dist  src   node_modules 是平级，有一个看不见的文件，叫做 bundle.js</span></span><br></pre></td></tr></table></figure>
<p>安装完成后在命令行直接运行<code>webpack-dev-server</code>进行打包，发现报错，此时需要借助<code>package.json</code>文件中的指令来运行<code>webpack-dev-server</code>命令，在<code>scripts</code>节点下新增<code>&quot;dev&quot;: &quot;webpack-dev-server&quot;</code>指令，发现可以进行实时打包，但是dist目录下并没有生成<code>bundle.js</code>文件，这是因为<code>webpack-dev-server</code>将打包好的文件放在了内存中。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "dev": "webpack-dev-server"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 命令行中运行</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<p>把<code>bundle.js</code>放在内存中的好处是：由于需要实时打包编译，所以放在内存中速度会非常快，这个时候访问<code>webpack-dev-server</code>启动的<code>http://localhost:8080/</code>网站，发现是一个文件夹的面板，需要点击到<code>src</code>目录下，才能打开我们的<code>index首页</code>，此时引用不到<code>bundle.js</code>文件，需要修改<code>index.html</code>中script的<code>src</code>属性为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>为了能在访问<code>http://localhost:8080/</code>的时候直接访问到index首页，可以使用<code>--contentBase src</code>指令来修改<code>dev</code>指令，指定启动的根目录：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"dev": "webpack-dev-server --contentBase src"</span><br></pre></td></tr></table></figure>
<p>同时修改index页面中script的<code>src</code>属性为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>4.3 使用<code>html-webpack-plugin</code>插件配置启动页面</p>
<p>由于使用<code>--contentBase</code>指令的过程比较繁琐，需要指定启动的目录，同时还需要修改<code>index.html</code>中script标签的<code>src</code>属性，所以推荐大家使用<code>html-webpack-plugin</code>插件配置启动页面</p>
<ul>
<li><p>a. 运行<code>npm i html-webpack-plugin@2.30.1 --save-dev</code>安装到开发依赖</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i html-webpack-plugin@2.30.1 --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>b. 修改<code>webpack.config.js</code>配置文件如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入处理路径的模块</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="comment">// 导入自动生成HTMl文件的插件</span></span><br><span class="line"><span class="keyword">var</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> config = &#123;</span><br><span class="line">    entry: path.resolve(__dirname, <span class="string">'src/js/main.js'</span>), <span class="comment">// 项目入口文件</span></span><br><span class="line">    output: &#123; <span class="comment">// 配置输出选项</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>), <span class="comment">// 配置输出的路径</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span> <span class="comment">// 配置输出的文件名</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins:[ <span class="comment">// 添加plugins节点配置插件</span></span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">            template:path.resolve(__dirname, <span class="string">'src/index.html'</span>),<span class="comment">//模板路径</span></span><br><span class="line">            filename:<span class="string">'index.html'</span><span class="comment">//自动生成的HTML文件的名称</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure>
</li>
<li><p>c. 修改<code>package.json</code>中<code>script</code>节点中的<code>dev</code>指令如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"dev": "webpack-dev-server"</span><br></pre></td></tr></table></figure>
</li>
<li><p>d. 将<code>index.html</code>中script标签注释掉，因为<code>html-webpack-plugin</code>插件会自动把<code>bundle.js</code>注入到<code>index.html</code>页面中！</p>
</li>
</ul>
</li>
</ul>
<h2 id="5-基于上面的demo实现自动打开浏览器、热更新和配置浏览器的默认端口号"><a href="#5-基于上面的demo实现自动打开浏览器、热更新和配置浏览器的默认端口号" class="headerlink" title="5. 基于上面的demo实现自动打开浏览器、热更新和配置浏览器的默认端口号"></a>5. 基于上面的demo实现自动打开浏览器、热更新和配置浏览器的默认端口号</h2><ul>
<li><p>方法一： </p>
<p>修改<code>package.json</code>的script节点如下，其中<code>--open</code>表示自动打开浏览器，<code>--port 3000</code>表示打开的端口号为3000，<code>--hot</code>表示启用浏览器热更新。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"dev": "webpack-dev-server --hot --port 3000 --open"</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法二：</p>
<p>a. 修改<code>webpack.config.js</code>文件，新增<code>devServer</code>节点如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">devServer:&#123;</span><br><span class="line">    open: <span class="literal">true</span>, <span class="comment">// 自动打开浏览器</span></span><br><span class="line">    port: <span class="number">3000</span>, <span class="comment">// 设置启动时候的运行端口</span></span><br><span class="line">    contentBase: <span class="string">'src'</span>, <span class="comment">// 指定托管的根目录</span></span><br><span class="line">    hot: <span class="literal">true</span>  <span class="comment">// 启用热更新 第1步</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>b. 在头部引入<code>webpack</code>模块：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 启用热更新 第2步 引入webpack包</span></span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br></pre></td></tr></table></figure>
<p>c. 在<code>plugins</code>节点下新增：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins: [ <span class="comment">// 配置插件节点</span></span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(), <span class="comment">// new 一个热更新模块对象，这是启用热更新 第 3 步</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="6-使用webpack打包css，less，sass文件"><a href="#6-使用webpack打包css，less，sass文件" class="headerlink" title="6. 使用webpack打包css，less，sass文件"></a>6. 使用<code>webpack</code>打包<code>css</code>，<code>less</code>，<code>sass</code>文件</h2><ul>
<li><p>打包<code>css</code>文件</p>
<p>a. 安装loader模块</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i style-loader@0.19.0 css-loader@0.28.7 --save-dev</span><br></pre></td></tr></table></figure>
<p>b. 修改<code>webpack.config.js</code>这个配置文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;<span class="comment">//处理css文件的规则</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 注意：`use`表示使用哪些模块来处理`test`所匹配到的文件</span></span><br><span class="line"><span class="comment">// `use`中相关loader模块的调用顺序是从后向前调用的</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>打包<code>less</code>文件</p>
<p>a. 安装loader模块</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i less-loader@4.0.5 less@2.7.3 -D</span><br></pre></td></tr></table></figure>
<p>b. 修改<code>webpack.config.js</code>这个配置文件，在rules中添加：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打包<code>sass</code>文件</p>
<p>a. 安装loader模块</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i sass-loader@6.0.6 node-sass@4.5.3 --save-dev</span><br></pre></td></tr></table></figure>
<p>b. 修改<code>webpack.config.js</code>这个配置文件，在rules中添加：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;</span><br></pre></td></tr></table></figure>
<p>c. 备注：安装node-sass时如果安装不成功，可在通过下面网址提供的方法本地安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/codebook/p/10274990.html</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="7-备注：隔行变色demo文件"><a href="#7-备注：隔行变色demo文件" class="headerlink" title="7. 备注：隔行变色demo文件"></a>7. 备注：隔行变色demo文件</h2><ul>
<li><p><code>main.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js是项目入口文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入jquery -- import ** from ** 是es6的语法导入模块方式</span></span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 利用 import 语法 导入样式表</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/index.css'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/index.less'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/index.scss'</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">   $(<span class="string">'li:odd'</span>).css(<span class="string">'backgroundColor'</span>, <span class="string">'cyan'</span>);</span><br><span class="line">   $(<span class="string">'li:even'</span>).css(<span class="string">'backgroundColor'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">'#'</span> + <span class="string">'ddd'</span></span><br><span class="line">   &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>webpack.config.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入 在内存中生成 HTML 页面的 插件</span></span><br><span class="line"><span class="keyword">const</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个js配置文件，通过node中的模块操作，向外暴露一个配置对象</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    <span class="comment">// 入口，表示webpack要打包哪个文件</span></span><br><span class="line">    entry: path.join(__dirname, <span class="string">'./src/main.js'</span>),</span><br><span class="line">    <span class="comment">// 出口相关配置</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.join(__dirname, <span class="string">'./dist'</span>), <span class="comment">// 指定打包好的文件输出到哪个路径</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span> <span class="comment">// 指定输出文件名称</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devServer: &#123; <span class="comment">// 这是配置 dev-server 命令参数的第二种形式，这种方式相对麻烦一些，也是在命令行使用 npm run dev 执行</span></span><br><span class="line">        <span class="comment">//推荐在package.json中使用命令  --open --port 3000 --contentBase src --hot</span></span><br><span class="line">        open: <span class="literal">true</span>, <span class="comment">// 自动打开浏览器</span></span><br><span class="line">        port: <span class="number">3000</span>, <span class="comment">// 设置启动时候的运行端口</span></span><br><span class="line">        contentBase: <span class="string">'src'</span>, <span class="comment">// 指定托管的根目录</span></span><br><span class="line">        hot: <span class="literal">true</span>  <span class="comment">// 启用热更新 第1步</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [ <span class="comment">// 配置插件节点</span></span><br><span class="line">        <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(), <span class="comment">// new 一个热更新模块对象，这是启用热更新 第 3 步</span></span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123; <span class="comment">// 创建一个在内存中 生成 HTML  页面的插件</span></span><br><span class="line">            template: path.join(__dirname, <span class="string">'./src/index.html'</span>), <span class="comment">// 指定模板页面，将来会根据指定的页面路径，去生成内存中的页面</span></span><br><span class="line">            filename: <span class="string">'index.html'</span> <span class="comment">// 指定生成的页面的名称</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    <span class="built_in">module</span>: &#123; <span class="comment">// 匹配所有第三方模块加载器</span></span><br><span class="line">        rules: [ <span class="comment">// 所有第三方模块 匹配规则</span></span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,</span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>package.json</code> ( 注意：json文件中不能有注释 )</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"webpack.config.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="attr">"dev2"</span>: <span class="string">"webpack-dev-server --open --port 3000 --contentBase src --hot"</span>,</span><br><span class="line">    <span class="attr">"dev"</span>: <span class="string">"webpack-dev-server"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"keywords"</span>: [],</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"css-loader"</span>: <span class="string">"^0.28.7"</span>,</span><br><span class="line">    <span class="attr">"html-webpack-plugin"</span>: <span class="string">"^2.30.1"</span>,</span><br><span class="line">    <span class="attr">"less"</span>: <span class="string">"^2.7.3"</span>,</span><br><span class="line">    <span class="attr">"less-loader"</span>: <span class="string">"^4.0.5"</span>,</span><br><span class="line">    <span class="attr">"node-sass"</span>: <span class="string">"^4.11.0"</span>,</span><br><span class="line">    <span class="attr">"sass-loader"</span>: <span class="string">"^6.0.6"</span>,</span><br><span class="line">    <span class="attr">"style-loader"</span>: <span class="string">"^0.19.0"</span>,</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^3.8.1"</span>,</span><br><span class="line">    <span class="attr">"webpack-dev-server"</span>: <span class="string">"^2.9.3"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"jquery"</span>: <span class="string">"^3.3.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</div><div class="tags"><a href="/tags/Vue/">Vue</a></div><div class="post-nav"><a class="pre" href="/2019/01/17/webpack-study/">使用webpack构建一个项目</a><a class="next" href="/2019/01/14/vue04/">vue（4）</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"><input type="hidden" name="si" value="jiangleiundo.github.io"><input name="tn" type="hidden" value="bds"><input name="cl" type="hidden" value="3"><input name="ct" type="hidden" value="2097152"><input name="s" type="hidden" value="on"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Demo/">Demo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mood/">Mood</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Study/">Study</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/mongoose/" style="font-size: 15px;">mongoose</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/Express/" style="font-size: 15px;">Express</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Promise/" style="font-size: 15px;">Promise</a> <a href="/tags/book/" style="font-size: 15px;">book</a> <a href="/tags/carousel/" style="font-size: 15px;">carousel</a> <a href="/tags/express/" style="font-size: 15px;">express</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/Echarts/" style="font-size: 15px;">Echarts</a> <a href="/tags/reg/" style="font-size: 15px;">reg</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/valid/" style="font-size: 15px;">valid</a> <a href="/tags/iview/" style="font-size: 15px;">iview</a> <a href="/tags/Node/" style="font-size: 15px;">Node</a> <a href="/tags/reactJS/" style="font-size: 15px;">reactJS</a> <a href="/tags/Tool/" style="font-size: 15px;">Tool</a> <a href="/tags/todomvc/" style="font-size: 15px;">todomvc</a> <a href="/tags/Router/" style="font-size: 15px;">Router</a> <a href="/tags/Mock/" style="font-size: 15px;">Mock</a> <a href="/tags/babel/" style="font-size: 15px;">babel</a> <a href="/tags/Vuex/" style="font-size: 15px;">Vuex</a> <a href="/tags/router/" style="font-size: 15px;">router</a> <a href="/tags/mint-ui/" style="font-size: 15px;">mint-ui</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/Gzip/" style="font-size: 15px;">Gzip</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/echarts/" style="font-size: 15px;">echarts</a> <a href="/tags/flex/" style="font-size: 15px;">flex</a> <a href="/tags/cms/" style="font-size: 15px;">cms</a> <a href="/tags/小程序/" style="font-size: 15px;">小程序</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/07/20/vue-keep-alive/">keep-alive</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/vuex-async/">vuex一个使用实例</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/22/vue-mock/">vue-mock</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/07/vue-live-components/">vue动态组件的加载</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/26/tool-use-github-gitee/">同时使用github和码云</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/13/echarts-tooltip/">echarts实现两个y轴</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/css-filter-2044/">css滤镜效果</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/03/array-sort-by-prop/">根据对象数组中的一个或多个属性给数组排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/10/Hbuilder-key/">Hbuilder快捷键</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/02/27/download-excel/">vue前端调后台接口下载excel文件</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/tufu9441/maupassant-hexo" title="hexo-maupassant" target="_blank">hexo-maupassant</a><ul></ul><a href="https://github.com/jiangleiundo" title="我的GitHub" target="_blank">我的GitHub</a><ul></ul><a href="https://www.cnblogs.com/codebook/" title="博客园" target="_blank">博客园</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">小方块的世界.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>